import {
  index_esm_exports,
  init_index_esm
} from "./chunk-UGDJLASA.js";
import {
  __commonJS,
  __toCommonJS
} from "./chunk-V4OQ3NZ2.js";

// node_modules/@wangeditor/plugin-md/dist/index.js
var require_dist = __commonJS({
  "node_modules/@wangeditor/plugin-md/dist/index.js"(exports, module) {
    !function(e, r) {
      "object" == typeof exports && "object" == typeof module ? module.exports = r((init_index_esm(), __toCommonJS(index_esm_exports))) : "function" == typeof define && define.amd ? define(["@wangeditor/editor"], r) : "object" == typeof exports ? exports.WangEditorPluginMD = r((init_index_esm(), __toCommonJS(index_esm_exports))) : e.WangEditorPluginMD = r(e.wangEditor);
    }(self, (e) => (() => {
      "use strict";
      var r = { 857: (r2) => {
        r2.exports = e;
      } }, t = {};
      function n(e2) {
        var o2 = t[e2];
        if (void 0 !== o2) return o2.exports;
        var i = t[e2] = { exports: {} };
        return r[e2](i, i.exports, n), i.exports;
      }
      n.d = (e2, r2) => {
        for (var t2 in r2) n.o(r2, t2) && !n.o(e2, t2) && Object.defineProperty(e2, t2, { enumerable: true, get: r2[t2] });
      }, n.o = (e2, r2) => Object.prototype.hasOwnProperty.call(e2, r2), n.r = (e2) => {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e2, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e2, "__esModule", { value: true });
      };
      var o = {};
      return (() => {
        n.r(o), n.d(o, { default: () => a });
        var e2 = n(857), r2 = { "*": "list-item", "-": "list-item", "+": "list-item", ">": "blockquote", "#": "header1", "##": "header2", "###": "header3", "####": "header4", "#####": "header5" }, t2 = { "---": "divider", "----": "divider", "-----": "divider", "------": "divider" };
        function i(r3) {
          var t3 = r3.selection;
          if (null == t3) return { beforeText: "", range: null };
          var n2 = t3.anchor, o2 = e2.SlateEditor.above(r3, { match: function(t4) {
            return e2.SlateEditor.isBlock(r3, t4);
          } });
          if (null == o2) return { beforeText: "", range: null };
          var i2 = o2[1], a2 = { anchor: n2, focus: e2.SlateEditor.start(r3, i2) };
          return { beforeText: e2.SlateEditor.string(r3, a2) || "", range: a2 };
        }
        const a = { editorPlugin: function(n2) {
          var o2 = n2.insertBreak, a2 = n2.insertText, l = n2;
          return l.insertText = function(t3) {
            var o3 = n2.selection;
            if (null == o3) return a2(t3);
            if (e2.SlateRange.isExpanded(o3)) return a2(t3);
            if (null == e2.DomEditor.getSelectedNodeByType(n2, "paragraph")) return a2(t3);
            if (" " !== t3) return a2(t3);
            var l2 = i(n2), s = l2.beforeText, d = l2.range;
            if (!s || !d) return a2(t3);
            var u = r2[s];
            if (!u) return a2(t3);
            e2.SlateTransforms.select(n2, d), e2.SlateTransforms.delete(n2);
            var f = { type: u };
            e2.SlateTransforms.setNodes(n2, f, { match: function(r3) {
              return e2.SlateEditor.isBlock(n2, r3);
            } }), "list-item" === u && e2.SlateTransforms.wrapNodes(n2, { type: "bulleted-list", children: [] }, { match: function(r3) {
              return "list-item" === e2.DomEditor.getNodeType(r3);
            } });
          }, l.insertBreak = function() {
            var r3 = n2.selection;
            if (null == r3) return o2();
            if (e2.SlateRange.isExpanded(r3)) return o2();
            if (null == e2.DomEditor.getSelectedNodeByType(n2, "paragraph")) return o2();
            var a3 = i(n2), l2 = a3.beforeText, s = a3.range;
            if (!l2 || !s) return o2();
            if (0 !== l2.indexOf("```")) {
              var d = t2[l2];
              if (!d) return o2();
              e2.SlateTransforms.select(n2, s), e2.SlateTransforms.delete(n2);
              var u = { type: d };
              e2.SlateTransforms.setNodes(n2, u, { match: function(r4) {
                return e2.SlateEditor.isBlock(n2, r4);
              } });
            } else {
              var f = l2.slice(3).toLowerCase().trim();
              "js" === f && (f = "javascript"), "ts" === f && (f = "typescript"), "md" === f && (f = "markdown"), "py" === f && (f = "python"), "vb" === f && (f = "visual-basic"), "c#" === f && (f = "csharp");
              var c = ((n2.getConfig().MENU_CONF || {}).codeSelectLang || []).codeLangs;
              if (f && !(void 0 === c ? [] : c).some(function(e3) {
                return e3.value === f;
              })) return o2();
              e2.SlateTransforms.select(n2, s), e2.SlateTransforms.delete(n2);
              var p = { type: "pre", children: [{ type: "code", language: f, children: [{ text: "" }] }] };
              e2.SlateTransforms.insertNodes(n2, p);
            }
          }, l;
        } };
      })(), o;
    })());
  }
});
export default require_dist();
//# sourceMappingURL=@wangeditor_plugin-md.js.map
