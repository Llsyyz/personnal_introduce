{
  "version": 3,
  "sources": ["../../@wangeditor/plugin-md/dist/webpack:/WangEditorPluginMD/webpack/universalModuleDefinition", "../../@wangeditor/plugin-md/dist/webpack:/WangEditorPluginMD/external umd {\"commonjs\":\"@wangeditor/editor\",\"commonjs2\":\"@wangeditor/editor\",\"amd\":\"@wangeditor/editor\",\"root\":\"wangEditor\"}", "../../@wangeditor/plugin-md/dist/webpack:/WangEditorPluginMD/webpack/bootstrap", "../../@wangeditor/plugin-md/dist/webpack:/WangEditorPluginMD/webpack/runtime/define property getters", "../../@wangeditor/plugin-md/dist/webpack:/WangEditorPluginMD/webpack/runtime/hasOwnProperty shorthand", "../../@wangeditor/plugin-md/dist/webpack:/WangEditorPluginMD/webpack/runtime/make namespace object", "../../@wangeditor/plugin-md/dist/webpack:/WangEditorPluginMD/src/module/plugin.ts", "../../@wangeditor/plugin-md/dist/webpack:/WangEditorPluginMD/src/module/index.ts", "../../@wangeditor/plugin-md/dist/webpack:/WangEditorPluginMD/src/index.ts"],
  "sourcesContent": ["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@wangeditor/editor\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@wangeditor/editor\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"WangEditorPluginMD\"] = factory(require(\"@wangeditor/editor\"));\n\telse\n\t\troot[\"WangEditorPluginMD\"] = factory(root[\"wangEditor\"]);\n})(self, (__WEBPACK_EXTERNAL_MODULE__857__) => {\nreturn ", "module.exports = __WEBPACK_EXTERNAL_MODULE__857__;", "// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n", "// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};", "__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))", "// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};", "/**\n * @description plugin\n * @author wangfupeng\n */\n\nimport { SlateRange, SlateEditor, SlateTransforms, SlateElement } from '@wangeditor/editor'\nimport { DomEditor, IDomEditor } from '@wangeditor/editor'\n\n// 空格对应的 md 关键字\nconst KEY_TO_TYPE_FOR_SPACE: { [key: string]: string } = {\n  '*': 'list-item',\n  '-': 'list-item',\n  '+': 'list-item',\n  '>': 'blockquote',\n  '#': 'header1',\n  '##': 'header2',\n  '###': 'header3',\n  '####': 'header4',\n  '#####': 'header5',\n}\n\n// 回车对应的 md 关键字\nconst KEY_TO_TYPE_FOR_ENTER: { [key: string]: string } = {\n  '---': 'divider',\n  '----': 'divider',\n  '-----': 'divider',\n  '------': 'divider',\n\n  // PS： '```' 转换 pre/code 比较麻烦，单独写\n}\n\n/**\n * 获取 md 关键字和关键字的 range\n * @param editor editor\n */\nfunction getBeforeText(editor: IDomEditor): { beforeText: string; range: SlateRange | null } {\n  const { selection } = editor\n  if (selection == null) return { beforeText: '', range: null }\n  const { anchor } = selection\n  // 找到当前文本上面的 block 元素，如 header1 paragraph\n  const block = SlateEditor.above(editor, {\n    match: n => SlateEditor.isBlock(editor, n),\n  })\n  if (block == null) return { beforeText: '', range: null }\n  const blockPath = block[1]\n  const blockStart = SlateEditor.start(editor, blockPath) // block 元素的起始位置，就第一个文字的位置\n  const range = { anchor, focus: blockStart }\n  const beforeText = SlateEditor.string(editor, range) || ''\n  return { beforeText, range }\n}\n\nfunction withMarkdown<T extends IDomEditor>(editor: T) {\n  const { insertBreak, insertText } = editor\n  const newEditor = editor\n\n  // 输入空格时，尝试转换 markdown\n  newEditor.insertText = text => {\n    const { selection } = editor\n    if (selection == null) return insertText(text)\n    if (SlateRange.isExpanded(selection)) return insertText(text)\n    if (DomEditor.getSelectedNodeByType(editor, 'paragraph') == null) return insertText(text) // 必须在 paragraph 内\n    if (text !== ' ') return insertText(text) // 必须是输入空格\n\n    // 获取空格前面的文字\n    const { beforeText, range } = getBeforeText(editor)\n    if (!beforeText || !range) return insertText(text)\n\n    // 根据 md 关键字，找到要转换 elem 的 type\n    const type = KEY_TO_TYPE_FOR_SPACE[beforeText]\n    if (!type) return insertText(text)\n\n    // 转换为 type elem\n    SlateTransforms.select(editor, range)\n    SlateTransforms.delete(editor)\n    const props: Partial<SlateElement> = {\n      type,\n    }\n    SlateTransforms.setNodes<SlateElement>(editor, props, {\n      match: n => SlateEditor.isBlock(editor, n),\n    })\n\n    // 如果是 list-item ，则包裹一层 bulleted-list\n    if (type === 'list-item') {\n      const listElem = {\n        type: 'bulleted-list',\n        children: [],\n      }\n      SlateTransforms.wrapNodes(editor, listElem, {\n        match: n => DomEditor.getNodeType(n) === 'list-item',\n      })\n    }\n  }\n\n  // 换行时，尝试转换 markdown\n  newEditor.insertBreak = () => {\n    const { selection } = editor\n    if (selection == null) return insertBreak()\n    if (SlateRange.isExpanded(selection)) return insertBreak()\n    if (DomEditor.getSelectedNodeByType(editor, 'paragraph') == null) return insertBreak() // 必须在 paragraph 内\n\n    const { beforeText, range } = getBeforeText(editor) // 获取前面的文字\n    if (!beforeText || !range) return insertBreak()\n\n    // 单独处理 pre/code\n    if (beforeText.indexOf('```') === 0) {\n      let lang = beforeText.slice(3).toLowerCase().trim() // 获取 ```js 中的语言，如 js\n      if (lang === 'js') lang = 'javascript'\n      if (lang === 'ts') lang = 'typescript'\n      if (lang === 'md') lang = 'markdown'\n      if (lang === 'py') lang = 'python'\n      if (lang === 'vb') lang = 'visual-basic'\n      if (lang === 'c#') lang = 'csharp'\n\n      const { codeLangs = [] } = (editor.getConfig().MENU_CONF || {}).codeSelectLang || []\n      if (lang) {\n        // lang 有可能不在支持范围之内\n        const isValid = codeLangs.some((item: any) => item.value === lang)\n        if (!isValid) return insertBreak()\n      }\n\n      // 删除 ```js 文字\n      SlateTransforms.select(editor, range)\n      SlateTransforms.delete(editor)\n\n      // 插入 pre/code elem\n      const preElem = {\n        type: 'pre',\n        children: [\n          {\n            type: 'code',\n            language: lang,\n            children: [{ text: '' }],\n          },\n        ],\n      }\n      SlateTransforms.insertNodes(editor, preElem)\n      return\n    }\n\n    // 根据 md 关键字，找到要转换 elem 的 type\n    const type = KEY_TO_TYPE_FOR_ENTER[beforeText]\n    if (!type) return insertBreak()\n\n    // 转换为 type elem\n    SlateTransforms.select(editor, range)\n    SlateTransforms.delete(editor)\n    const props: Partial<SlateElement> = {\n      type,\n    }\n    SlateTransforms.setNodes<SlateElement>(editor, props, {\n      match: n => SlateEditor.isBlock(editor, n),\n    })\n  }\n\n  return newEditor\n}\n\nexport default withMarkdown\n", "/**\n * @description module entry\n * @author wangfupeng\n */\n\nimport { IModuleConf } from '@wangeditor/editor'\n\nimport withMarkdown from './plugin'\n\nconst module: Partial<IModuleConf> = {\n  editorPlugin: withMarkdown,\n}\n\nexport default module\n", "/**\n * @description src entry\n * @author wangfupeng\n */\n\nimport module from './module/index'\n\nexport default module\n"],
  "mappings": "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",
  "names": ["root", "factory", "exports", "module", "require", "define", "amd", "self", "__WEBPACK_EXTERNAL_MODULE__857__", "__webpack_module_cache__", "__webpack_require__", "moduleId", "cachedModule", "__webpack_modules__", "d", "definition", "key", "o", "Object", "defineProperty", "enumerable", "get", "obj", "prop", "prototype", "hasOwnProperty", "call", "r", "Symbol", "toStringTag", "value", "e", "KEY_TO_TYPE_FOR_SPACE", "KEY_TO_TYPE_FOR_ENTER", "getBeforeText", "editor", "selection", "beforeText", "range", "anchor", "block", "SlateEditor", "match", "n", "blockPath", "focus", "a", "editorPlugin", "insertBreak", "insertText", "newEditor", "text", "SlateRange", "DomEditor", "l", "type", "SlateTransforms", "props", "children", "indexOf", "slice", "toLowerCase", "trim", "getConfig", "MENU_CONF", "codeSelectLang", "some", "item", "preElem", "language"]
}
